/* Ajustes específicos para la vista de Reportes (Cotizaciones)
  buscando mantener la estética del módulo original pero optimizando
  el comportamiento responsive y corrigiendo ocultación de columnas. */

/* El contenedor no debe permitir scroll horizontal */
.cotizaciones .card { overflow-x: hidden; }
.cotizaciones-table.cotz-report .p-datatable-wrapper { overflow-x: hidden !important; }

/* Forzar encabezado con el mismo fondo primario que la vista original */
.cotizaciones-table.cotz-report .p-datatable-thead > tr > th {
  background: var(--primary-color) !important;
  color: #ffffff !important;
}

/* Permitir que todo el contenido de celdas y cabeceras haga wrap */
/* Encabezados: una sola línea; Celdas: permitido el wrap */
.cotizaciones-table.cotz-report .p-datatable-thead > tr > th {
  white-space: nowrap !important;
  line-height: 1.25;
}
.cotizaciones-table.cotz-report .p-datatable-tbody > tr > td {
  white-space: normal !important;
  word-break: break-word !important;
  line-height: 1.25;
}

/* Filtros ocupan el ancho disponible del header */
.cotizaciones-table.cotz-report .p-column-filter,
.cotizaciones-table.cotz-report .p-dropdown {
  width: 100% !important;
  min-width: 0 !important;
}

/* Compactar un poco para que quepa sin scroll */
.cotizaciones-table.cotz-report .p-datatable-thead > tr > th,
.cotizaciones-table.cotz-report .p-datatable-tbody > tr > td {
  padding: 10px 8px;
}

/* Anchos proporcionales para alinear mejor columnas (sin romper en una línea) */
/* 1: expander | 2: Nombre | 3: Categoría | 4: % Utilidad | 5: Código | 6: Año | 7: Mes | 8: Estado | 9: Origen */
.cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(1),
.cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(1) { width: 32px; max-width: 36px; }
.cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(2),
.cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(2) { width: 26%; }
.cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(3),
.cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(3) { width: 12%; }
.cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(4),
.cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(4) { width: 10%; text-align: center; }
.cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(5),
.cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(5) { width: 16%; }
.cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(6),
.cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(6) { width: 8%; min-width: 72px; text-align: center; }
.cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(7),
.cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(7) { width: 8%; min-width: 72px; text-align: center; }
.cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(8),
.cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(8) { width: 12%; min-width: 92px; }
.cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(9),
.cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(9) { width: 12%; min-width: 92px; }

/* Mantener título y el ícono de filtro en la misma línea */
.cotizaciones-table.cotz-report .p-column-header-content { display: flex; align-items: center; gap: 6px; }
.cotizaciones-table.cotz-report .p-column-header-content .p-column-title { white-space: nowrap; }

/* Ocultar completamente el subheader de grupo cuando se marque como hidden */
.cotizaciones-table.cotz-report .p-datatable-tbody tr.p-rowgroup-header:has(.rowgroup-hidden) {
  display: none !important;
}

/* Header de grupo (Categoría) más visual y consistente */
.cotizaciones-table.cotz-report .p-rowgroup-header {
  background: #f7f9fc;
  border-left: 3px solid var(--primary-color);
  color: #2c3e50;
  font-weight: 600;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
}

/* Responsive: escalonado similar a módulo original de cotización y bandeja */
@media (max-width: 1200px) {
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th,
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td { padding: 10px 6px; }
}

@media (max-width: 1024px) {
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th,
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td { padding: 8px 6px; font-size: 13px; }
  /* Reducir anchura de columnas extensas */
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(2),
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(2) { width: 24%; }
}

@media (max-width: 900px) {
  /* Preparar transición antes de ocultar columnas */
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th,
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td { padding: 8px 5px; font-size: 12.5px; }
}

@media (max-width: 768px) {
  /* Compactar y mantener legibilidad sin scroll horizontal */
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th,
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td { padding: 8px 5px; font-size: 12px; }
  /* Ajuste proporcional en tablet */
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(2),
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(2) { width: 32%; }
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(5),
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(5) { width: 14%; }
}

@media (max-width: 600px) {
  /* Reducir aún más paddings antes del modo móvil estricto */
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th,
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td { padding: 6px 4px; font-size: 11.5px; }
}

@media (max-width: 480px) {
  /* Móvil pequeño: priorizar columnas clave */
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th,
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td { padding: 6px 3px; font-size: 11px; }
  /* Ocultar columnas menos críticas: % Utilidad (4), Código (5), Origen (9) */
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(4),
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(4),
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(5),
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(5),
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(9),
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(9) { display: none !important; }
  /* Reasignar anchos para distribución clara */
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(1),
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(1) { width: 36px; }
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(2),
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(2) { width: 42%; }
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(3),
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(3) { width: 26%; }
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(6),
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(6),
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(7),
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(7) { width: 16%; text-align: center; }
  .cotizaciones-table.cotz-report .p-datatable-thead > tr > th:nth-child(8),
  .cotizaciones-table.cotz-report .p-datatable-tbody > tr > td:nth-child(8) { width: 16%; }
}
